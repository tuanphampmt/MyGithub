(this.webpackJsonprouter=this.webpackJsonprouter||[]).push([[0],{29:function(e,t,a){e.exports=a(59)},34:function(e,t,a){},36:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(26),o=a.n(r),c=(a(34),a(1)),i=a.n(c),u=a(8),l=a(2),m=a(3),p=a(5),d=a(4),f=a(6),h=(a(36),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"jumbotron jumbotron-fluid"},s.a.createElement("div",{className:"container text-center"},s.a.createElement("h1",{className:"display-3"},"Project qu\u1ea3n l\xfd th\xe0nh vi\xean b\u1eb1ng MongoDB-Expressjs-Reactjs-Nodejs"),s.a.createElement("hr",{className:"my-2"})))}}]),t}(n.Component)),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).displayButton=function(){return a.props.formStatus?s.a.createElement("div",{className:"btn btn-success btn-block add",onClick:function(){return a.props.isFormStatus()}},s.a.createElement("i",{className:"fa fa-times-circle mr-2"}),"\u0110\xf3ng l\u1ea1i"):s.a.createElement("div",{className:"btn btn-success btn-block add",onClick:function(){return a.props.isFormStatus()}},s.a.createElement("i",{className:"fa fa-user-plus mr-1"}),"Th\xeam m\u1edbi")},a.isChange=function(e){a.setState({tempValue:e.target.value}),a.props.getTextSearch(e.target.value)},a.onClickSearch=function(){a.props.getTextSearch(a.state.tempValue),a.props.isSearchStatus()},a.state={tempValue:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"btn-group"},s.a.createElement("a",{href:"#1",onClick:function(){return e.onClickSearch()}},s.a.createElement("input",{className:"form-control inputSearch",type:"text",name:"seach",placeholder:"Nh\u1eadp t\xean c\u1ea7n t\xecm",onChange:function(t){return e.isChange(t)}})),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.onClickSearch()}},s.a.createElement("i",{className:"fa fa-search mr-1"}),"T\xecm"),this.displayButton(),s.a.createElement("div",{className:"dropdown"},s.a.createElement("button",{className:"btn btn-primary dropdown-toggle ml-3",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"S\u1eafp x\u1ebfp"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},s.a.createElement("a",{className:"dropdown-item "+(this.props.status.sortAscStatus?"sort_selected":""),href:"#1",onClick:function(){return e.props.isSortAscStatus()}},s.a.createElement("span",{className:"fa fa-sort-alpha-asc"},"T\xean A-Z")),s.a.createElement("a",{className:"dropdown-item "+(this.props.status.sortDescStatus?"sort_selected":""),href:"#1",onClick:function(){return e.props.isSortDescStatus()}},s.a.createElement("span",{className:"fa fa-sort-alpha-desc"},"T\xean Z-A")),s.a.createElement("hr",null),s.a.createElement("a",{className:"dropdown-item "+(this.props.status.adminStatus?"sort_selected":""),href:"#1",onClick:function(){return e.props.isAdminStatus()}},s.a.createElement("span",{className:"fa"},"Admin")),s.a.createElement("a",{className:"dropdown-item "+(this.props.status.moderatorStatus?"sort_selected":""),href:"#1",onClick:function(){return e.props.isModeratorStatus()}},s.a.createElement("span",{className:"fa"},"Moderator")),s.a.createElement("a",{className:"dropdown-item "+(this.props.status.normalStatus?"sort_selected":""),href:"#1",onClick:function(){return e.props.isNormalStatus()}},s.a.createElement("span",{className:"fa"},"Normal User"))))))))}}]),t}(n.Component),E=a(9),b=a.n(E),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).postData=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/delete/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.checkPermissions=function(){return 1===parseInt(a.props.permissions)?"Admin":2===parseInt(a.props.permissions)?"Moderator":"Normal User"},a.editClick=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.editUser(),a.props.changeEditUserStatus();case 2:case"end":return e.stop()}}),e)}))),a.onSubmit=function(e){e.preventDefault(),a.props.getUserRemovedInfo(),Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.postData(a.props.id);case 2:case"end":return e.stop()}}),e)})))()},a.state={id:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("tr",null,s.a.createElement("td",null,this.props.STT+1),s.a.createElement("td",null,this.props.name),s.a.createElement("td",null,this.props.telephone),s.a.createElement("td",{className:"text-center"},s.a.createElement("p",{className:"label "+("Admin"===this.checkPermissions()?"label-danger":"Moderator"===this.checkPermissions()?"label-warning":"label-info")},this.checkPermissions())),s.a.createElement("td",null,s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.editClick()}},s.a.createElement("i",{className:"fa fa-edit"})," S\u1eeda"),s.a.createElement("button",{type:"submit",className:"btn btn-danger",onClick:function(t){return e.onSubmit(t)}},s.a.createElement("i",{className:"fa fa-remove"})," Xo\xe1"))))}}]),t}(n.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col"},s.a.createElement("table",{className:"table table-striped table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"STT"),s.a.createElement("th",null,"T\xean"),s.a.createElement("th",null,"\u0110i\u1ec7n tho\u1ea1i"),s.a.createElement("th",null,"Quy\u1ec1n"),s.a.createElement("th",null,"Thao t\xe1c"))),s.a.createElement("tbody",null,this.props.data.map((function(t,a){return s.a.createElement(v,{key:a,id:t._id,name:t.name,telephone:t.telephone,permissions:t.permissions,STT:a,editUser:function(){return e.props.editUser(t)},changeEditUserStatus:function(){return e.props.changeEditUserStatus()},getUserRemovedInfo:function(){return e.props.getUserRemovedInfo(t._id)},dataSort:e.props.dataSort})})))))}}]),t}(n.Component),N=a(11),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).postData=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/add",{name:t,telephone:a,permissions:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.isChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.postData(a.state.name,a.state.telephone,a.state.permissions);case 3:n=e.sent,a.props.getNewDataUser(n.data.newUser._id,a.state.name,a.state.telephone,a.state.permissions),a.setState({name:"",telephone:"",permissions:""});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.displayForm=function(){if(a.props.formStatus)return s.a.createElement("div",{className:"col"},s.a.createElement("form",{onSubmit:a.onSubmit},s.a.createElement("div",{className:"card border-info mt-3",style:{maxWidth:"18rem"}},s.a.createElement("div",{className:"card-header bg-transparent border-info text-center"},s.a.createElement("strong",null,"Th\xeam m\u1edbi")),s.a.createElement("div",{className:"card-body text-info"},s.a.createElement("div",{className:"from-group"},s.a.createElement("div",null,s.a.createElement("label",null,"T\xean user"),s.a.createElement("input",{className:"form-control",type:"text",name:"name",placeholder:"Nh\u1eadp t\xean user",onChange:function(e){return a.isChange(e)},value:a.state.name})),s.a.createElement("div",{className:"mt-3"},s.a.createElement("label",null,"\u0110i\u1ec7n tho\u1ea1i"),s.a.createElement("input",{className:"form-control",type:"text",name:"telephone",placeholder:"Nh\u1eadp \u0111i\u1ec7n tho\u1ea1i",onChange:function(e){return a.isChange(e)},value:a.state.telephone})),s.a.createElement("div",{className:"mt-3"},s.a.createElement("label",null,"Ph\xe2n quy\u1ec1n"),s.a.createElement("select",{className:"custom-select mr-sm-2",onChange:function(e){return a.isChange(e)},name:"permissions",value:a.state.permissions},s.a.createElement("option",null,"Choose..."),s.a.createElement("option",{value:"1"},"Admin"),s.a.createElement("option",{value:"2"},"Moderator"),s.a.createElement("option",{value:"3"},"Normal"))),s.a.createElement("div",{className:"mt-3 text-center"},s.a.createElement("button",{type:"submit",className:"btn btn-outline-info btn-block"},"Th\xeam m\u1edbi")))))))},a.state={id:"",name:"",telephone:"",permissions:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.displayForm())}}]),t}(n.Component),C=a(12),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).postData=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/update/"+t,{name:a,telephone:n,permissions:s});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),a.isChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.editClick=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={id:a.state.id,name:a.state.name,telephone:a.state.telephone,permissions:a.state.permissions},a.props.getUserEditInfo(n),a.props.changeEditUserStatus(),e.next=6,a.postData(a.state.id,a.state.name,a.state.telephone,a.state.permissions);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.displayForm=function(){if(a.props.editUserStatus)return s.a.createElement("div",{className:"col"},s.a.createElement("form",{onSubmit:a.editClick},s.a.createElement("div",{className:"card border-success mt-3",style:{maxWidth:"18rem"}},s.a.createElement("div",{className:"card-header bg-success border-success text-center"},s.a.createElement("strong",null,"S\u1eeda th\xf4ng tin"),s.a.createElement(C.b,{to:"/",style:{color:"#fff"}},s.a.createElement("i",{className:"fa fa-times-circle text-right",onClick:function(){return a.props.changeEditUserStatus()}}))),s.a.createElement("div",{className:"card-body text-success"},s.a.createElement("div",{className:"from-group"},s.a.createElement("div",null,s.a.createElement("label",null,"T\xean user"),s.a.createElement("input",{className:"form-control",type:"text",name:"name",placeholder:"Nh\u1eadp t\xean user",defaultValue:a.props.userEditObject.name,onChange:function(e){return a.isChange(e)}})),s.a.createElement("div",{className:"mt-3"},s.a.createElement("label",null,"\u0110i\u1ec7n tho\u1ea1i"),s.a.createElement("input",{className:"form-control",type:"text",name:"telephone",placeholder:"Nh\u1eadp \u0111i\u1ec7n tho\u1ea1i",defaultValue:a.props.userEditObject.telephone,onChange:function(e){return a.isChange(e)}})),s.a.createElement("div",{className:"mt-3"},s.a.createElement("label",null,"Ph\xe2n quy\u1ec1n"),s.a.createElement("select",{className:"custom-select mr-sm-2",name:"permissions",defaultValue:a.props.userEditObject.permissions,onChange:function(e){return a.isChange(e)}},s.a.createElement("option",null,"Choose..."),s.a.createElement("option",{value:"1"},"Admin"),s.a.createElement("option",{value:"2"},"Moderator"),s.a.createElement("option",{value:"3"},"Normal"))),s.a.createElement("div",{className:"mt-3 text-center"},s.a.createElement("button",{type:"submit",className:"btn btn-outline-success btn-block",onClick:function(e){return a.editClick(e)}},"L\u01b0u")))))))},a.state={id:"",name:"",telephone:"",permissions:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.displayForm())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{id:e.userEditObject._id,name:e.userEditObject.name,telephone:e.userEditObject.telephone,permissions:e.userEditObject.permissions}}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).getData=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/api/user");case 2:return e.next=4,e.sent.data;case 4:return e.abrupt("return",e.sent.dataUser);case 5:case"end":return e.stop()}}),e)}))),a.getArray=function(){var e=[],t=a.state.status,n=t.sortAscStatus,s=t.sortDescStatus,r=t.adminStatus,o=t.moderatorStatus,c=t.normalStatus;return!n||s||r||o||c?n||!s||r||o||c?n||s||!r||o||c?n||s||r||!o||c?n||s||r||o||!c?(a.state.data.forEach((function(t){-1!==t.name.toLowerCase().indexOf(a.state.searchText)&&e.push(t)})),e):a.state.data.filter((function(e){return 3===e.permissions})):a.state.data.filter((function(e){return 2===e.permissions})):a.state.data.filter((function(e){return 1===e.permissions})):(e=a.state.data).sort((function(e,t){return e.name.toLowerCase()!==t.name.toLowerCase()?e.name.toLowerCase()>t.name.toLowerCase()?-1:1:0})):(e=a.state.data).sort((function(e,t){return e.name.toLowerCase()!==t.name.toLowerCase()?e.name.toLowerCase()<t.name.toLowerCase()?-1:1:0}))},a.getTextSearch=function(e){a.setState({searchText:e.toLowerCase().trim()})},a.isFormStatus=function(){a.setState({status:{formStatus:!a.state.status.formStatus}})},a.getNewDataUser=function(e,t,n,s){var r={_id:e,name:t,telephone:n,permissions:s};a.state.data.push(r),a.setState({data:a.state.data})},a.editUser=function(e){a.setState({userEditObject:e})},a.changeEditUserStatus=function(){a.setState({status:{editUserStatus:!a.state.status.editUserStatus}})},a.getUserEditInfo=function(e){var t=a.state.data.find((function(t){return t._id===e.id}));t.name=e.name,t.telephone=e.telephone,t.permissions=e.permissions},a.getUserRemovedInfo=function(e){var t=a.state.data.filter((function(t){return t._id!==e}));a.setState({data:t})},a.isSortAscStatus=function(){a.setState({status:{sortAscStatus:!0,sortDescStatus:!1,adminStatus:!1,moderatorStatus:!1,normalStatus:!1}})},a.isSortDescStatus=function(){a.setState({status:{sortDescStatus:!0,sortAscStatus:!1,adminStatus:!1,moderatorStatus:!1,normalStatus:!1}})},a.isAdminStatus=function(){a.setState({status:{adminStatus:!0,sortAscStatus:!1,sortDescStatus:!1,moderatorStatus:!1,normalStatus:!1}})},a.isModeratorStatus=function(){a.setState({status:{moderatorStatus:!0,sortAscStatus:!1,sortDescStatus:!1,adminStatus:!1,normalStatus:!1}})},a.isNormalStatus=function(){a.setState({status:{normalStatus:!0,sortAscStatus:!1,sortDescStatus:!1,adminStatus:!1,moderatorStatus:!1}})},a.isSearchStatus=function(){a.setState({status:{searchStatus:!0,sortAscStatus:!1,sortDescStatus:!1,adminStatus:!1,moderatorStatus:!1,normalStatus:!1}})},a.state={data:[],searchText:"",userEditObject:{},status:{editUserStatus:!1,formStatus:!1,sortAscStatus:!1,sortDescStatus:!1,searchStatus:!1,adminStatus:!1,moderatorStatus:!1,normalStatus:!1}},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getData().then((function(t){return e.setState({data:t})}))}},{key:"render",value:function(){var e=this;return s.a.createElement(C.a,null,s.a.createElement("div",null,s.a.createElement(h,null),s.a.createElement("div",{className:"searchForm"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement(S,{isFormStatus:function(){return e.isFormStatus()},formStatus:this.state.status.formStatus,getTextSearch:function(t){return e.getTextSearch(t)},isSortAscStatus:function(){return e.isSortAscStatus()},isSortDescStatus:function(){return e.isSortDescStatus()},isSearchStatus:function(){return e.isSearchStatus()},isAdminStatus:function(){return e.isAdminStatus()},isModeratorStatus:function(){return e.isModeratorStatus()},isNormalStatus:function(){return e.isNormalStatus()},status:this.state.status}),s.a.createElement("div",{className:"col-12"},s.a.createElement("hr",null)),s.a.createElement(g,{data:this.getArray(),editUser:function(t){return e.editUser(t)},changeEditUserStatus:function(){return e.changeEditUserStatus()},getUserRemovedInfo:function(t){return e.getUserRemovedInfo(t)}}),s.a.createElement(j,{formStatus:this.state.status.formStatus,getNewDataUser:function(t,a,n,s){return e.getNewDataUser(t,a,n,s)}}),s.a.createElement(O,{editUserStatus:this.state.status.editUserStatus,changeEditUserStatus:function(){return e.changeEditUserStatus()},userEditObject:this.state.userEditObject,getUserEditInfo:function(t){return e.getUserEditInfo(t)}}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.09a70e0f.chunk.js.map