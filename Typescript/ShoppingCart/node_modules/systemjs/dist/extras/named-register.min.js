!function(t){const e=t.System;c(e);const r=e.constructor.prototype,n=e.constructor,s=function(){n.call(this),c(this)};let i;function o(){i=null}function c(t){t.registerRegistry=Object.create(null)}s.prototype=r,e.constructor=s;const l=r.register;r.register=function(t,e,r){if("string"!=typeof t)return l.apply(this,arguments);const n=[e,r];return this.registerRegistry[t]=n,i||(i=n,setTimeout(o)),l.apply(this,arguments)};const u=r.resolve;r.resolve=function(t,e){try{return u.call(this,t,e)}catch(e){if(t in this.registerRegistry)return t;throw e}};const g=r.instantiate;r.instantiate=function(t,e){return this.registerRegistry[t]||g.call(this,t,e)};const f=r.getRegister;r.getRegister=function(){return i||f.call(this)}}("undefined"!=typeof self?self:global);